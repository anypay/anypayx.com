(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8035],{12963:function(e,n,r){"use strict";r.d(n,{Z:function(){return P}});var t=r(87462),i=r(63366),s=r(67294),o=(r(59864),r(86010)),a=r(27192),l=r(11496),c=r(33616),d=r(15861),u=r(41796),h=r(82066),x=r(85893),p=(0,h.Z)((0,x.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),f=r(49990);const j=(0,l.ZP)(f.Z)((({theme:e})=>(0,t.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,t.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,t.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,u._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,u._4)(e.palette.grey[600],.12)})}))),m=(0,l.ZP)(p)({width:24,height:16});var g=function(e){const n=e;return(0,x.jsx)("li",{children:(0,x.jsx)(j,(0,t.Z)({focusRipple:!0},e,{ownerState:n,children:(0,x.jsx)(m,{ownerState:n})}))})},v=r(28979);function b(e){return(0,v.Z)("MuiBreadcrumbs",e)}var y=(0,r(76087).Z)("MuiBreadcrumbs",["root","ol","li","separator"]);const Z=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],w=(0,l.ZP)(d.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,n)=>[{[`& .${y.li}`]:n.li},n.root]})({}),k=(0,l.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,n)=>n.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),O=(0,l.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,n)=>n.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function S(e,n,r,t){return e.reduce(((i,s,o)=>(o<e.length-1?i=i.concat(s,(0,x.jsx)(O,{"aria-hidden":!0,className:n,ownerState:t,children:r},`separator-${o}`)):i.push(s),i)),[])}var P=s.forwardRef((function(e,n){const r=(0,c.Z)({props:e,name:"MuiBreadcrumbs"}),{children:l,className:d,component:u="nav",expandText:h="Show path",itemsAfterCollapse:p=1,itemsBeforeCollapse:f=1,maxItems:j=8,separator:m="/"}=r,v=(0,i.Z)(r,Z),[y,O]=s.useState(!1),P=(0,t.Z)({},r,{component:u,expanded:y,expandText:h,itemsAfterCollapse:p,itemsBeforeCollapse:f,maxItems:j,separator:m}),_=(e=>{const{classes:n}=e;return(0,a.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},b,n)})(P),M=s.useRef(null),C=s.Children.toArray(l).filter((e=>s.isValidElement(e))).map(((e,n)=>(0,x.jsx)("li",{className:_.li,children:e},`child-${n}`)));return(0,x.jsx)(w,(0,t.Z)({ref:n,component:u,color:"text.secondary",className:(0,o.Z)(_.root,d),ownerState:P},v,{children:(0,x.jsx)(k,{className:_.ol,ref:M,ownerState:P,children:S(y||j&&C.length<=j?C:(e=>f+p>=e.length?e:[...e.slice(0,f),(0,x.jsx)(g,{"aria-label":h,onClick:()=>{O(!0);const e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-p,e.length)])(C),_.separator,m,P)})}))}))},45890:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/invoices/[invoice_uid]",function(){return r(83258)}])},22284:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(85893),i=r(41664),s=r(15861),o=r(12963),a=r(99226),l=r(50122);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e){var n=e.links,r=e.activeLast,i=void 0!==r&&r,l=d(e,["links","activeLast"]),u=n[n.length-1].name,x=n.map((function(e){return(0,t.jsx)(h,{link:e},e.name)})),p=n.map((function(e){return(0,t.jsx)("div",{children:e.name!==u?(0,t.jsx)(h,{link:e}):(0,t.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:u})},e.name)}));return(0,t.jsx)(o.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){c(e,n,r[n])}))}return e}({separator:(0,t.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l,{children:i?x:p}))}function h(e){var n=e.link,r=n.href,s=void 0===r?"":r,o=n.name,c=n.icon;return(0,t.jsx)(i.default,{href:s,passHref:!0,children:(0,t.jsxs)(l.Z,{variant:"body2",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[c&&(0,t.jsx)(a.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:c}),o]},o)})}},72728:function(e,n,r){"use strict";r.d(n,{Z:function(){return x}});var t=r(85893),i=r(47037),s=r.n(i),o=r(99226),a=r(15861),l=r(50122),c=r(22284);function d(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){d(e,n,r[n])}))}return e}function h(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x(e){var n=e.links,r=e.action,i=e.heading,d=e.moreLink,x=void 0===d?[]:d,p=e.sx,f=h(e,["links","action","heading","moreLink","sx"]);return(0,t.jsxs)(o.Z,{sx:u({mb:5},p),children:[(0,t.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,t.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:i}),(0,t.jsx)(c.Z,u({links:n},f))]}),r&&(0,t.jsx)(o.Z,{sx:{flexShrink:0},children:r})]}),(0,t.jsx)(o.Z,{sx:{mt:2},children:s()(x)?(0,t.jsx)(l.Z,{href:x,target:"_blank",variant:"body2",children:x}):x.map((function(e){return(0,t.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},83258:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return M}});var t=r(85893),i=r(73400);var s=(0,r(61354).Z)(),o=r(30381),a=r.n(o),l=r(4298),c=r(27948),d=r(11057),u=r(66242),h=r(72882),x=r(7906),p=r(53184),f=r(68509),j=r(53252),m=r(295),g=r(96259),v=r(10901),b=r(8100),y=r(21744),Z=r(64156),w=r(61582),k=r(52664),O=r(3140),S=r(50946),P=r(72728),_=r(11163);function M(){var e=(0,_.useRouter)().query,n=((0,i.Ds)().enqueueSnackbar,(0,v.Z)().themeStretch),r=(0,b.ZP)("https://api.anypayx.com/v1/api/invoices/".concat(e.invoice_uid),y.Z),s=r.data,o=r.error;if(!s&&!o)return(0,t.jsx)(k.Z,{});if(o)return(0,t.jsxs)("p",{children:["Error: ",o.message]});var a=null===s||void 0===s?void 0:s.data,l=a.invoice,u=a.payment,h=a.kraken_deposits;l.uid=e.invoice_uid;var x="https://anypay.sv/invoices/".concat(l.uid),p="Invoice # ".concat(e.invoice_uid);return(0,t.jsx)(w.Z,{title:"Invoice: Details",children:(0,t.jsxs)(c.Z,{maxWidth:!n&&"lg",children:[(0,t.jsx)(P.Z,{heading:p,links:[{name:"Dashboard",href:g.vB.root},{name:"Invoices",href:"/dashboard/merchant/payments"},{name:"Payment Details"}],action:(0,t.jsx)("a",{target:"_blank",href:x,rel:"noopener noreferrer",children:(0,t.jsx)(d.Z,{variant:"contained",startIcon:(0,t.jsx)(O.Z,{icon:"eva:paper-plane-outline"}),children:"Share Invoice"})})}),(0,t.jsx)(C,{invoice:l,payment:u}),(0,t.jsx)(I,{deposits:h}),(0,t.jsx)(W,{invoice:l})]})})}M.getLayout=function(e){return(0,t.jsx)(Z.Z,{children:e})};function C(e){var n=e.invoice,r=e.payment;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{id:"anypay-js",src:"https://anypay.sv/static/js/main.js",onLoad:function(){console.log("anypay-js loaded")}}),(0,t.jsxs)(s,{sx:{bgcolor:"background.paper",boxShadow:1,borderRadius:2,p:2,minWidth:300},children:[(0,t.jsx)(s,{sx:{color:"text.secondary"},children:n.uid}),(0,t.jsxs)(s,{sx:{color:"text.primary",fontSize:34,fontWeight:"medium"},children:[n.amount," ",n.currency]}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{sx:{color:"success.dark",display:"inline",fontWeight:"bold",mx:.5,fontSize:14},children:"PAID"}),(0,t.jsx)(s,{sx:{color:"text.secondary",display:"inline",fontSize:14},children:r.currency}),(0,t.jsx)(s,{sx:{fontWeight:100},children:r.txid})]}),!r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{sx:{color:"warning.dark",display:"inline",fontWeight:"bold",mx:.5,fontSize:14},children:(0,t.jsx)("p",{children:"NOT PAID"})}),(0,t.jsx)(s,{children:(0,t.jsx)(d.Z,{onClick:function(){!function(e){var n=e.uid;window.open("https://anypay.sv/invoices/".concat(n),"_blank")}({uid:n.uid})},variant:"outlined",color:"warning",children:"Pay Now"})})]})]})]})}function W(e){var n,r,i=e.invoice,o=(0,b.ZP)("https://api.anypayx.com/v1/api/invoices/".concat(i.uid,"/events"),y.Z),l=o.data,c=o.error;if(c)return(0,t.jsx)(u.Z,{children:(0,t.jsxs)("p",{children:["Error: ",c.message]})});if(!l)return(0,t.jsx)(s,{sx:{bgcolor:"background.paper",boxShadow:1,borderRadius:2,p:2,minWidth:300},children:(0,t.jsx)("p",{children:"loading..."})});console.log("invoice.events",null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.events);var d=null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.events,g=d.length>0;return d=d.map((function(e){return Object.assign(e,{createdAt:a()(new Date(e.createdAt)).format("MMM Do, YYYY hh:MMa")})})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),g&&(0,t.jsxs)(s,{sx:{bgcolor:"background.paper",boxShadow:1,borderRadius:2,p:2,minWidth:300},children:[(0,t.jsxs)(s,{sx:{p:1},children:[" ",(0,t.jsx)("h2",{children:"Event Log"})]}),(0,t.jsx)(S.Z,{children:(0,t.jsx)(h.Z,{sx:{minWidth:400},children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{children:"Date"}),(0,t.jsx)(j.Z,{children:"Event"}),(0,t.jsx)(j.Z,{children:"Payload"})]})}),(0,t.jsx)(m.Z,{children:d.map((function(e){return(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{children:e.createdAt}),(0,t.jsx)(j.Z,{children:e.type}),(0,t.jsx)(j.Z,{children:JSON.stringify(e.payload)})]},e.id)}))})]})})})]})]})}function I(e){var n=e.deposits;if(!n||0===n.length)return(0,t.jsx)(t.Fragment,{});var r=n.length>0;return n=n.map((function(e){return Object.assign(e,{date:a()(new Date(e.createdAt)).format("MMM Do, YYYY hh:MMa")})})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),r&&(0,t.jsxs)(s,{sx:{bgcolor:"background.paper",boxShadow:1,borderRadius:2,p:2,minWidth:300},children:[(0,t.jsxs)(s,{sx:{p:1},children:[" ",(0,t.jsx)("h2",{children:"Kraken Deposit"})]}),(0,t.jsx)(S.Z,{children:(0,t.jsx)(h.Z,{sx:{minWidth:400},children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{children:"Time"}),(0,t.jsx)(j.Z,{children:"Asset"}),(0,t.jsx)(j.Z,{children:"Amount"}),(0,t.jsx)(j.Z,{children:"Fee"}),(0,t.jsx)(j.Z,{children:"ID"}),(0,t.jsx)(j.Z,{children:"Status"})]})}),(0,t.jsx)(m.Z,{children:n.map((function(e){return(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(j.Z,{children:e.date}),(0,t.jsx)(j.Z,{children:e.asset}),(0,t.jsx)(j.Z,{children:e.amount}),(0,t.jsx)(j.Z,{children:e.fee}),(0,t.jsx)(j.Z,{children:e.refid}),"Settled"===e.status&&(0,t.jsx)(j.Z,{children:(0,t.jsx)(s,{sx:{color:"warning.dark",display:"inline",fontWeight:"bold",mx:.5,fontSize:14},children:e.status})}),"Success"===e.status&&(0,t.jsx)(j.Z,{children:(0,t.jsx)(s,{sx:{color:"success.dark",display:"inline",fontWeight:"bold",mx:.5,fontSize:14},children:e.status})}),"Failure"===e.status&&(0,t.jsx)(j.Z,{children:(0,t.jsx)(s,{sx:{color:"error.dark",display:"inline",fontWeight:"bold",mx:.5,fontSize:14},children:e.status})})]},e.refid)}))})]})})})]})]})}},4298:function(e,n,r){e.exports=r(20699)}},function(e){e.O(0,[4885,6586,9910,1631,4411,3907,1993,4156,9774,2888,6377],(function(){return n=45890,e(e.s=n);var n}));var n=e.O();_N_E=n}]);