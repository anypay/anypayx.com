"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3426],{76267:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85893),i=n(11496),o=n(2734);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,i.ZP)("span")((function(e){var t=e.theme,n=e.ownerState,r=n.status,i=n.size;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({width:10,height:10,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center","&:before, &:after":{content:"''",borderRadius:1,backgroundColor:t.palette.common.white}},"small"===i&&{width:8,height:8},"large"===i&&{width:12,height:12},"offline"===r&&{backgroundColor:"transparent"},"away"===r&&{backgroundColor:t.palette.warning.main,"&:before":{width:2,height:4,transform:"translateX(1px) translateY(-1px)"},"&:after":{width:2,height:4,transform:"translateY(1px) rotate(125deg)"}},"busy"===r&&{backgroundColor:t.palette.error.main,"&:before":{width:6,height:2}},"online"===r&&{backgroundColor:t.palette.success.main},"invisible"===r&&{backgroundColor:t.palette.text.disabled,"&:before":{width:6,height:6,borderRadius:"50%"}},"unread"===r&&{backgroundColor:t.palette.info.main})}));function c(e){var t=e.size,n=void 0===t?"medium":t,i=e.status,a=void 0===i?"offline":i,c=e.sx,l=(0,o.Z)();return(0,r.jsx)(s,{ownerState:{status:a,size:n},sx:c,theme:l})}},39488:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(85893),i=(n(87898),n(35829)),o=n(67294),a=n(11496),s=n(2734),c=n(99226),l=n(23926),u=n(93946),d=n(20727),p=n(3140);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=(0,a.ZP)(c.Z)({position:"relative"}),m=(0,a.ZP)("div")((function(e){var t=e.theme;return{bottom:40,overflow:"hidden",position:"absolute",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:2*Number(t.shape.borderRadius),"& .emoji-mart":{border:"none",backgroundColor:t.palette.background.paper},"& .emoji-mart-anchor":{color:t.palette.text.disabled,"&:hover, &:focus, &.emoji-mart-anchor-selected":{color:t.palette.text.primary}},"& .emoji-mart-bar":{borderColor:t.palette.divider},"& .emoji-mart-search input":{backgroundColor:"transparent",color:t.palette.text.primary,borderColor:t.palette.grey[50032],"&::placeholder":h({},t.typography.body2,{color:t.palette.text.disabled})},"& .emoji-mart-search-icon svg":{opacity:1,fill:t.palette.text.disabled},"& .emoji-mart-category-label span":h({},t.typography.subtitle2,(0,d.Z)().bgBlur({color:t.palette.background.paper}),{color:t.palette.text.primary}),"& .emoji-mart-title-label":{color:t.palette.text.primary},"& .emoji-mart-category .emoji-mart-emoji:hover:before":{backgroundColor:t.palette.action.selected},"& .emoji-mart-emoji":{outline:"none"},"& .emoji-mart-preview-name":{color:t.palette.text.primary},"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon":{color:t.palette.text.secondary}}}));function g(e){var t,n=e.disabled,a=e.value,c=e.setValue,d=e.alignRight,f=void 0!==d&&d,g=x(e,["disabled","value","setValue","alignRight"]),v=(0,s.Z)(),y=(0,o.useState)(!1),j=y[0],w=y[1];j&&(t=(0,r.jsx)(i.cW,{color:v.palette.primary.main,title:"Pick your emoji\u2026",emoji:"point_up",onSelect:function(e){return c(a+(null===e||void 0===e?void 0:e.native))}}));return(0,r.jsx)(l.Z,{onClickAway:function(){w(!1)},children:(0,r.jsxs)(b,h({},g,{children:[(0,r.jsx)(m,{sx:h({},f&&{right:-2,left:"auto !important"}),children:t}),(0,r.jsx)(u.Z,{disabled:n,size:"small",onClick:function(e){e.preventDefault(),w(!j)},children:(0,r.jsx)(p.Z,{icon:"eva:smiling-face-fill",width:20,height:20})})]}))})}},86008:function(e,t,n){var r=n(11496),i=n(50135);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}var s=(0,r.ZP)(i.Z,{shouldForwardProp:function(e){return"stretchStart"!==e}})((function(e){var t=e.stretchStart,n=e.theme;return{"& .MuiOutlinedInput-root":a({transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:n.customShadows.z12}},t&&{width:t,"&.Mui-focused":o({boxShadow:n.customShadows.z12},n.breakpoints.up("sm"),{width:t+60})}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(n.palette.grey[50032]," !important")}}}));t.Z=s},27602:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(85893),i=n(67294),o=n(92879),a=n(2734),s=n(41796),c=n(42287),l=n(15861);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(){var e=(0,a.Z)(),t="rtl"===e.direction,n=e.palette.grey[600].replace("#",""),i=function(e){return"url(https://api.iconify.design/carbon/".concat(e,".svg?color=%23").concat(n,"&width=").concat(32,"&height=").concat(32,")")},o=function(t){return{opacity:1,alignItems:"center",display:"inline-flex",justifyContent:"center",backgroundImage:"unset",backgroundColor:"transparent",transition:e.transitions.create("opacity"),"&:before":{display:"block",width:32,height:32,content:i(t)},"&:hover":{opacity:.72}}};return(0,r.jsx)(c.Z,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backgroundColor:(0,s.Fq)(e.palette.grey[900],.96)},"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:40,height:40,justifyContent:"center",marginLeft:e.spacing(2)}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":o("zoom-in"),"&.ril__zoomOutButton":o("zoom-out"),"&.ril__closeButton":o("close")},"& .ril__navButtons":{padding:e.spacing(3),"&.ril__navButtonPrev":d({right:"auto",left:e.spacing(2)},o(t?"arrow-right":"arrow-left")),"&.ril__navButtonNext":d({left:"auto",right:e.spacing(2)},o(t?"arrow-left":"arrow-right"))}}}})}function h(e){var t=e.images,n=e.photoIndex,a=e.setPhotoIndex,s=e.isOpen,c=p(e,["images","photoIndex","setPhotoIndex","isOpen"]);(0,i.useEffect)((function(){document.body.style.overflow=s?"hidden":"unset"}),[s]);var u=[(0,r.jsx)(l.Z,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{}),s&&(0,r.jsx)(o.Z,d({animationDuration:160,nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onMovePrevRequest:function(){return a((n+t.length-1)%t.length)},onMoveNextRequest:function(){return a((n+1)%t.length)},toolbarButtons:u,reactModalStyle:{overlay:{zIndex:9999}}},c))]})}},80878:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85893),i=n(55113),o=n(15861);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){var t=e.searchQuery,n=void 0===t?"":t,c=s(e,["searchQuery"]);return n?(0,r.jsxs)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},c,{children:[(0,r.jsx)(o.Z,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found"}),(0,r.jsxs)(o.Z,{variant:"body2",align:"center",children:["No results found for \xa0",(0,r.jsxs)("strong",{children:['"',n,'"']}),". Try checking for typos or using complete words."]})]})):(0,r.jsx)(o.Z,{variant:"body2",children:" Please enter keywords"})}},83426:function(e,t,n){n.d(t,{mb:function(){return St},zL:function(){return At}});var r=n(85893),i=n(67294),o=n(48389),a=n(99226),s=n(26447),c=n(15861),l=n(34386),u=n(93946),d=n(67720),p=n(78462),f=n(18972),h=n(18360),x=n(78470),b=n(3140),m=n(80451),g=n(48731),v=n(76267);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var w=["online","invisible","away"];function Z(){var e=(0,x.Z)().user,t=(0,i.useState)("online"),n=t[0],y=t[1],Z=(0,i.useState)(null),O=Z[0],P=Z[1],S={mr:2,width:20,height:20};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{position:"relative"},children:[(0,r.jsx)(m.Z,{onClick:function(e){P(e.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),(0,r.jsx)(v.Z,{status:n,sx:{position:"absolute",bottom:2,right:2}})]}),(0,r.jsxs)(g.Z,{open:Boolean(O),anchorEl:O,onClose:function(){P(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},arrow:"left-top",sx:{p:0,ml:.5,width:"auto"},children:[(0,r.jsxs)(s.Z,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{noWrap:!0,variant:"subtitle1",children:null===e||void 0===e?void 0:e.displayName}),(0,r.jsx)(c.Z,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:null===e||void 0===e?void 0:e.email})]}),(0,r.jsx)(l.Z,{title:"Log out",children:(0,r.jsx)(u.Z,{color:"error",children:(0,r.jsx)(b.Z,{icon:"ic:round-power-settings-new",width:20,height:20})})})]}),(0,r.jsx)(d.Z,{}),(0,r.jsxs)(p.Z,{sx:{px:1,"& .MuiMenuItem-root":{py:1,px:2,typography:"body2",borderRadius:.75}},children:[(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(v.Z,{size:"large",status:n,sx:{m:.5,flexShrink:0}}),(0,r.jsx)(h.Z,{native:!0,fullWidth:!0,value:n,onChange:function(e){return y(e.target.value)},sx:{ml:2,"& svg":{display:"none"},"& select":{p:0,typography:"body2"},"& fieldset":{display:"none"}},children:w.map((function(e){return(0,r.jsx)("option",{value:e,children:(0,o.I)(e)},e)}))})]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(b.Z,{icon:"ic:round-account-box",sx:j({},S)}),"Profile"]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(b.Z,{icon:"eva:settings-2-fill",sx:j({},S)}),"Settings"]})]})]})]})}var O=n(23926),P=n(87109),S=n(86008);function k(e){var t=e.query,n=e.onChange,i=e.onFocus,o=e.onClickAway;return(0,r.jsx)(O.Z,{onClickAway:o,children:(0,r.jsx)(S.Z,{fullWidth:!0,size:"small",value:t,onFocus:i,onChange:n,placeholder:"Search contacts...",InputProps:{startAdornment:(0,r.jsx)(P.Z,{position:"start",children:(0,r.jsx)(b.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})},sx:{mt:2}})})}var C=n(91713),I=n(11496),A=n(98619),R=n(15663),M=n(87952),D=n(59334);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}var z=(0,I.ZP)(A.Z)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),W=(0,I.ZP)("div")((function(e){e.theme;return{position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}}}));function T(e){var t=e.isSelected,n=e.conversation,i=e.onSelectConversation,o=e.isOpenSidebar,s=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),r=n.map((function(e){return e.name})).join(", "),i="",o=e.messages[e.messages.length-1];if(o){var a=o.senderId===t?"You: ":"",s="image"===o.contentType?"Sent a photo":o.body;i="".concat(a).concat(s)}return{otherParticipants:n,displayNames:r,displayText:i}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),c=n.messages[n.messages.length-1].createdAt,l=s.otherParticipants.length>1,u=n.unreadCount>0,d=l&&s.otherParticipants.map((function(e){return e.status})).includes("online");return(0,r.jsxs)(z,{disableGutters:!0,onClick:i,sx:_({},t&&{bgcolor:"action.selected"}),children:[(0,r.jsx)(R.Z,{children:(0,r.jsxs)(a.Z,{sx:_({},l&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[s.otherParticipants.slice(0,2).map((function(e){return(0,r.jsxs)(W,{className:"avatarWrapper",children:[(0,r.jsx)(M.Z,{alt:e.name,src:e.avatar}),!l&&(null===e||void 0===e?void 0:e.status)&&(0,r.jsx)(v.Z,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),d&&(0,r.jsx)(v.Z,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{primary:s.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:s.displayText,secondaryTypographyProps:{noWrap:!0,variant:u?"subtitle2":"body2",color:u?"textPrimary":"textSecondary"}}),(0,r.jsxs)(a.Z,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[(0,r.jsx)(a.Z,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:(0,C.Z)(new Date(c),{addSuffix:!1})}),u&&(0,r.jsx)(v.Z,{status:"unread",size:"small"})]})]})]})}var F=n(11163),B=n(96259),U=n(96339);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){var t=e.conversations,n=e.isOpenSidebar,i=e.activeConversationId,o=e.sx,a=q(e,["conversations","isOpenSidebar","activeConversationId","sx"]),s=(0,F.useRouter)().push,c=!t.allIds.length;return(0,r.jsx)(p.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}({disablePadding:!0,sx:o},a,{children:(c?G(Array(12)):t.allIds).map((function(e,o){return e?(0,r.jsx)(T,{isOpenSidebar:n,conversation:t.byId[e],isSelected:i===e,onSelectConversation:function(){return function(e){var n="",r=t.byId[e];if("GROUP"===r.type)n=r.id;else{var i=r.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));(null===i||void 0===i?void 0:i.username)&&(n=null===i||void 0===i?void 0:i.username)}s("".concat(B.vB.chat.root,"/").concat(n))}(e)}},e):(0,r.jsx)(U.i4,{},o)}))}))}var H=n(23370),Q=n.n(H),V=n(11447),$=n.n(V),K=n(41796),J=n(5306),X=n(87918),ee=n(50135),te=n(80878);function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ne(e,t,n[t])}))}return e}var ie=(0,I.ZP)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),oe=(0,I.ZP)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":{minWidth:280,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function ae(e){var t=e.contacts,n=e.recipients,o=e.onAddRecipients,s=(0,i.useState)(""),l=s[0],u=s[1];return(0,r.jsxs)(ie,{children:[(0,r.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),(0,r.jsx)(oe,{children:(0,r.jsx)(J.Z,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,noOptionsText:(0,r.jsx)(te.Z,{searchQuery:l}),onChange:function(e,t){return n=t,u(""),void o(n);var n},onInputChange:function(e,t){return u(t)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var i=n.inputValue,o=n.selected,s=t.name,l=t.avatar,u=$()(s,i),d=Q()(s,u);return(0,r.jsxs)(a.Z,re({component:"li",sx:{p:"12px !important"}},e,{children:[(0,r.jsxs)(a.Z,{sx:{mr:1.5,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,r.jsx)(M.Z,{alt:s,src:l}),(0,r.jsx)(a.Z,{sx:re({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return(0,K.Fq)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},o&&{opacity:1,color:"primary.main"}),children:(0,r.jsx)(b.Z,{icon:"eva:checkmark-fill",width:20,height:20})})]}),d.map((function(e,t){return(0,r.jsx)(c.Z,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var o=e.id,a=e.name,s=e.avatar;return(0,i.createElement)(X.Z,re({},t({index:n}),{key:o,size:"small",label:a,color:"info",avatar:(0,r.jsx)(M.Z,{alt:a,src:s})}))}))},renderInput:function(e){return(0,r.jsx)(ee.Z,re({},e,{placeholder:0===n.length?"Recipients":""}))}})})]})}var se=n(51107),ce=n(50122),le=n(69127);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=(0,I.ZP)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function fe(e){var t=e.participants,n=t.length>1;return(0,r.jsxs)(pe,{children:[n?(0,r.jsx)(xe,{participants:t}):(0,r.jsx)(he,{participants:t}),(0,r.jsx)(a.Z,{sx:{flexGrow:1}}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(b.Z,{icon:"eva:phone-fill",width:20,height:20})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(b.Z,{icon:"eva:video-fill",width:20,height:20})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(b.Z,{icon:"eva:more-vertical-fill",width:20,height:20})})]})}function he(e){var t=de(e.participants)[0];return void 0!==t&&t.status?(0,r.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsxs)(a.Z,{sx:{position:"relative"},children:[(0,r.jsx)(M.Z,{src:t.avatar,alt:t.name}),(0,r.jsx)(v.Z,{status:t.status,sx:{position:"absolute",right:2,bottom:2}})]}),(0,r.jsxs)(a.Z,{sx:{ml:2},children:[(0,r.jsx)(c.Z,{variant:"subtitle2",children:t.name}),(0,r.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==t.status?(0,o.I)(t.status):(0,le.DY)(t.lastActivity||"")})]})]}):null}function xe(e){var t=e.participants;return(0,r.jsxs)("div",{children:[(0,r.jsx)(se.Z,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return(0,r.jsx)(M.Z,{alt:e.name,src:e.avatar},e.id)}))}),(0,r.jsx)(ce.Z,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:(0,r.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[t.length," persons",(0,r.jsx)(b.Z,{icon:"eva:arrow-ios-forward-fill"})]})})]})}var be=n(79332),me=n(1577),ge=n(39488),ve=(0,I.ZP)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function ye(e){var t=e.disabled,n=e.conversationId,o=e.onSend,a=(0,i.useRef)(null),c=(0,i.useState)(""),l=c[0],p=c[1],f=function(){var e;null===(e=a.current)||void 0===e||e.click()},h=function(){return l?(o&&n&&o({conversationId:n,messageId:(0,me.Z)(),message:l,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),p("")):""};return(0,r.jsxs)(ve,{children:[(0,r.jsx)(be.Z,{disabled:t,fullWidth:!0,value:l,disableUnderline:!0,onKeyUp:function(e){"Enter"===e.key&&h()},onChange:function(e){return p(e.target.value)},placeholder:"Type a message",startAdornment:(0,r.jsx)(P.Z,{position:"start",children:(0,r.jsx)(ge.Z,{disabled:t,value:l,setValue:p})}),endAdornment:(0,r.jsxs)(s.Z,{direction:"row",spacing:1,sx:{flexShrink:0,mr:1.5},children:[(0,r.jsx)(u.Z,{disabled:t,size:"small",onClick:f,children:(0,r.jsx)(b.Z,{icon:"ic:round-add-photo-alternate",width:22,height:22})}),(0,r.jsx)(u.Z,{disabled:t,size:"small",onClick:f,children:(0,r.jsx)(b.Z,{icon:"eva:attach-2-fill",width:22,height:22})}),(0,r.jsx)(u.Z,{disabled:t,size:"small",children:(0,r.jsx)(b.Z,{icon:"eva:mic-fill",width:22,height:22})})]})}),(0,r.jsx)(d.Z,{orientation:"vertical",flexItem:!0}),(0,r.jsx)(u.Z,{color:"primary",disabled:!l,onClick:h,sx:{mx:1},children:(0,r.jsx)(b.Z,{icon:"ic:round-send",width:22,height:22})}),(0,r.jsx)("input",{type:"file",ref:a,style:{display:"none"}})]})}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){je(e,t,n[t])}))}return e}var Ze=(0,I.ZP)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),Oe=(0,I.ZP)("div")((function(e){var t=e.theme;return{maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),Pe=(0,I.ZP)(c.Z)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}})),Se=(0,I.ZP)("img")((function(e){return{height:200,minWidth:296,width:"100%",cursor:"pointer",objectFit:"cover",borderRadius:e.theme.shape.borderRadius}}));function ke(e){var t=e.message,n=e.conversation,i=e.onOpenLightbox,o=n.participants.find((function(e){return e.id===t.senderId})),s="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:null===o||void 0===o?void 0:o.avatar,name:null===o||void 0===o?void 0:o.name},l="me"===s.type,u="image"===t.contentType,d=s.name&&s.name.split(" ")[0];return(0,r.jsx)(Ze,{children:(0,r.jsxs)(a.Z,{sx:we({display:"flex"},l&&{ml:"auto"}),children:["me"!==s.type&&(0,r.jsx)(M.Z,{alt:s.name,src:s.avatar,sx:{width:32,height:32}}),(0,r.jsxs)(a.Z,{sx:{ml:2},children:[(0,r.jsxs)(Pe,{noWrap:!0,variant:"caption",sx:we({},l&&{justifyContent:"flex-end"}),children:[!l&&"".concat(d,","),"\xa0",(0,C.Z)(new Date(t.createdAt),{addSuffix:!0})]}),(0,r.jsx)(Oe,{sx:we({},l&&{color:"grey.800",bgcolor:"primary.lighter"}),children:u?(0,r.jsx)(Se,{alt:"attachment",src:t.body,onClick:function(){return i(t.body)}}):(0,r.jsx)(c.Z,{variant:"body2",children:t.body})})]})]})})}var Ce=n(50946),Ie=n(27602);function Ae(e){var t=e.conversation,n=(0,i.useRef)(null),o=(0,i.useState)(!1),a=o[0],s=o[1],c=(0,i.useState)(0),l=c[0],u=c[1];(0,i.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var d=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),p=function(e){var t=d.findIndex((function(t){return t===e}));s(!0),u(t)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ce.Z,{scrollableNodeProps:{ref:n},sx:{p:3,height:1},children:t.messages.map((function(e){return(0,r.jsx)(ke,{message:e,conversation:t,onOpenLightbox:p},e.id)}))}),(0,r.jsx)(Ie.Z,{images:d,mainSrc:d[l],photoIndex:l,setPhotoIndex:u,isOpen:a,onCloseRequest:function(){return s(!1)}})]})}var Re=n(2734),Me=n(58826),De=n(10653),Ee=n(44908),_e=n.n(Ee),ze=n(85564),We=n.n(ze),Te=n(11057),Fe=n(57922),Be=n(40655);function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=(0,I.ZP)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),Ne=(0,I.ZP)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),qe=(0,I.ZP)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),Ge=(0,I.ZP)(Te.Z)((function(e){var t=e.theme;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ue(e,t,n[t])}))}return e}({},t.typography.overline,{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function Ye(e){var t=e.conversation,n=e.isCollapse,i=e.onCollapse,o=_e()(We()(t.messages.map((function(e){return e.attachments})))).length;return(0,r.jsxs)(Le,{children:[(0,r.jsxs)(Ge,{fullWidth:!0,color:"inherit",onClick:i,endIcon:(0,r.jsx)(b.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["attachment (",o,")"]}),!n&&(0,r.jsx)(d.Z,{}),(0,r.jsx)(Ce.Z,{children:(0,r.jsx)(Fe.Z,{in:n,children:t.messages.map((function(e){return(0,r.jsx)("div",{children:e.attachments.map((function(t){return(0,r.jsx)(He,{file:e,fileUrl:t},t)}))},e.id)}))})})]})}function He(e){var t=e.file,n=e.fileUrl;return(0,r.jsxs)(Ne,{children:[(0,r.jsx)(qe,{children:(0,Be.PF)(n)}),(0,r.jsxs)(a.Z,{sx:{ml:1.5,maxWidth:150},children:[(0,r.jsx)(c.Z,{variant:"body2",noWrap:!0,children:(0,Be.lW)(n)}),(0,r.jsx)(c.Z,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:(0,le.zM)(t.createdAt)})]})]},n)}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ve(e,t,n[t])}))}return e}function Ke(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je=(0,I.ZP)(Te.Z)((function(e){var t=e.theme;return $e({},t.typography.overline,{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),Xe=(0,I.ZP)("div")((function(e){return{display:"flex",margin:e.theme.spacing(1.5,0)}})),et=(0,I.ZP)(b.Z)((function(e){var t=e.theme;return{width:16,height:16,marginTop:4,marginRight:t.spacing(1),color:t.palette.text.secondary}})),tt=(0,I.ZP)(c.Z)((function(e){return $e({flexGrow:1,maxWidth:160,wordWrap:"break-word"},e.theme.typography.body2)}));function nt(e){var t=e.participants,n=e.isCollapse,i=e.onCollapse,o=Ke(t)[0];return void 0===o?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(M.Z,{alt:o.name,src:o.avatar,sx:{width:96,height:96}}),(0,r.jsxs)(a.Z,{sx:{mt:2,textAlign:"center"},children:[(0,r.jsx)(c.Z,{variant:"subtitle1",children:o.name}),(0,r.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:o.position})]})]}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(Je,{fullWidth:!0,color:"inherit",onClick:i,endIcon:(0,r.jsx)(b.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:"information"}),(0,r.jsx)(Fe.Z,{in:n,children:(0,r.jsxs)(a.Z,{sx:{px:2.5,pb:1},children:[(0,r.jsxs)(Xe,{children:[(0,r.jsx)(et,{icon:"eva:pin-fill"}),(0,r.jsx)(tt,{children:o.address})]}),(0,r.jsxs)(Xe,{children:[(0,r.jsx)(et,{icon:"eva:phone-fill"}),(0,r.jsx)(tt,{children:o.phone})]}),(0,r.jsxs)(Xe,{children:[(0,r.jsx)(et,{icon:"eva:email-fill"}),(0,r.jsx)(tt,{children:o.email})]})]})})]})}var rt=n(6514),it=n(50067),ot=(0,I.ZP)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}}));function at(e){var t=e.participant,n=e.isOpen,i=e.onClose,o=t.name,a=t.avatar,s=t.position,l=t.address,u=t.phone,d=t.email;return(0,r.jsx)(it.Kl,{fullWidth:!0,maxWidth:"xs",open:n,onClose:i,children:(0,r.jsxs)(rt.Z,{sx:{pb:5,textAlign:"center"},children:[(0,r.jsx)(M.Z,{alt:o,src:a,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),(0,r.jsx)(c.Z,{variant:"h6",children:o}),(0,r.jsx)(c.Z,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:s}),(0,r.jsxs)(ot,{children:[(0,r.jsx)(b.Z,{icon:"eva:pin-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,r.jsx)(c.Z,{variant:"body2",children:l})]}),(0,r.jsxs)(ot,{children:[(0,r.jsx)(b.Z,{icon:"eva:phone-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,r.jsx)(c.Z,{variant:"body2",children:u})]}),(0,r.jsxs)(ot,{children:[(0,r.jsx)(b.Z,{icon:"eva:email-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,r.jsx)(c.Z,{variant:"body2",children:d})]})]})})}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct=(0,I.ZP)(Te.Z)((function(e){var t=e.theme;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){st(e,t,n[t])}))}return e}({},t.typography.overline,{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function lt(e){var t=e.participants,n=e.selectUserId,i=e.onShowPopupUserInfo,o=e.isCollapse,s=e.onCollapse;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ct,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:s,endIcon:(0,r.jsx)(b.Z,{icon:o?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["In room (",t.length,")"]}),(0,r.jsx)(a.Z,{sx:{height:o?256:0},children:(0,r.jsx)(Ce.Z,{children:(0,r.jsx)(Fe.Z,{in:o,sx:{height:o?256:0},children:(0,r.jsx)(p.Z,{disablePadding:!0,children:t.map((function(e){return(0,r.jsx)(ut,{participant:e,isOpen:n===e.id,onShowPopup:function(){return i(e.id)},onClosePopup:function(){return i(null)}},e.id)}))})})})})]})}function ut(e){var t=e.participant,n=e.isOpen,i=e.onClosePopup,o=e.onShowPopup,s=t.name,c=t.avatar,l=t.status,u=t.position;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(A.Z,{onClick:o,sx:{height:64,px:2.5},children:[(0,r.jsx)(R.Z,{children:(0,r.jsxs)(a.Z,{sx:{position:"relative",width:40,height:40},children:[(0,r.jsx)(M.Z,{alt:s,src:c}),(0,r.jsx)(v.Z,{status:l,sx:{right:0,bottom:0,position:"absolute"}})]})}),(0,r.jsx)(D.Z,{primary:s,secondary:u,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),(0,r.jsx)(at,{participant:t,isOpen:n,onClose:i})]})}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dt(e,t,n[t])}))}return e}var ft=(0,I.ZP)((function(e){return(0,r.jsx)(u.Z,pt({disableRipple:!0},e))}))((function(e){var t=e.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(1),boxShadow:t.customShadows.z8,backgroundColor:t.palette.background.paper,border:"solid 1px ".concat(t.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:t.transitions.create("all"),"&:hover":{backgroundColor:t.palette.background.neutral}}})),ht=240;function xt(e){var t=e.conversation,n=e.participants,o=(0,Re.Z)(),s=(0,i.useState)(!0),c=s[0],l=s[1],u=(0,i.useState)(!0),p=u[0],f=u[1],h=(0,i.useState)(null),x=h[0],m=h[1],g=(0,i.useState)(!0),v=g[0],y=g[1],j=(0,i.useState)(!0),w=j[0],Z=j[1],O=(0,De.Z)("up","lg"),P=n.length>1;(0,i.useEffect)((function(){return O?S():k()}),[O]);var S=function(){l(!0)},k=function(){l(!1)},C=(0,r.jsxs)(r.Fragment,{children:[P?(0,r.jsx)(lt,{selectUserId:x,participants:n,isCollapse:w,onShowPopupUserInfo:function(e){return m(e)},onCollapse:function(){return Z((function(e){return!e}))}}):(0,r.jsx)("div",{children:(0,r.jsx)(nt,{participants:n,isCollapse:p,onCollapse:function(){return f((function(e){return!e}))}})}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(Ye,{conversation:t,isCollapse:v,onCollapse:function(){return y((function(e){return!e}))}})]});return(0,r.jsxs)(a.Z,{sx:{position:"relative"},children:[(0,r.jsx)(ft,{onClick:function(){l((function(e){return!e}))},sx:pt({},c&&O&&{right:ht}),children:(0,r.jsx)(b.Z,{width:16,height:16,icon:c?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),O?(0,r.jsx)(Me.ZP,{open:c,anchor:"right",variant:"persistent",sx:pt({height:1,width:ht,transition:o.transitions.create("width")},!c&&{width:"0px"},{"& .MuiDrawer-paper":{position:"static",width:ht}}),children:C}):(0,r.jsx)(Me.ZP,{anchor:"right",ModalProps:{keepMounted:!0},open:c,onClose:k,sx:{"& .MuiDrawer-paper":{width:ht}},children:C})]})}function bt(e){var t=e.query,n=e.results,i=e.onSelectContact,o=n.length>0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),n.map((function(e){return(0,r.jsxs)(A.Z,{onClick:function(){return i(e)},sx:{px:3,py:1.5,typography:"subtitle2"},children:[(0,r.jsx)(M.Z,{alt:e.name,src:e.avatar,sx:{mr:2}}),e.name]},e.id)})),!o&&(0,r.jsx)(te.Z,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var mt=n(34051),gt=n.n(mt),vt=n(41664),yt=n(23008),jt=n(21744);function wt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zt(e,t,n[t])}))}return e}var Pt=(0,I.ZP)((function(e){return(0,r.jsx)(u.Z,Ot({disableRipple:!0},e))}))((function(e){var t=e.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(13),borderRadius:"0 12px 12px 0",color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,boxShadow:t.customShadows.primary,"&:hover":{backgroundColor:t.palette.primary.darker}}}));function St(){var e=(0,Re.Z)(),t=(0,F.useRouter)(),n=t.push,o=t.pathname,c=(0,i.useState)(!0),l=c[0],d=c[1],p=(0,i.useState)(""),f=p[0],h=p[1],x=(0,i.useState)([]),m=x[0],g=x[1],v=(0,i.useState)(!1),y=v[0],j=v[1],w=(0,yt.v9)((function(e){return e.chat})),O=w.conversations,P=w.activeConversationId,S=(0,De.Z)("up","md"),C=f&&y,I=S&&!l;(0,i.useEffect)((function(){return S?A():R()}),[S,o]),(0,i.useEffect)((function(){if(!l)return j(!1)}),[l]);var A=function(){d(!0)},R=function(){d(!1)},M=function(){d((function(e){return!e}))},D=function(){var e,t=(e=gt().mark((function e(t){var n,r;return gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,h(n),!n){e.next=10;break}return e.next=6,jt.Z.get("/api/chat/search",{params:{query:n}});case 6:r=e.sent,g(r.data.results),e.next=11;break;case 10:g([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){wt(o,r,i,a,s,"next",e)}function s(e){wt(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),E=function(e){j(!1),h(""),n("".concat(B.vB.chat.root,"/").concat(e))},_=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{py:2,px:3},children:[(0,r.jsxs)(s.Z,{direction:"row",alignItems:"center",justifyContent:"center",children:[!I&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{}),(0,r.jsx)(a.Z,{sx:{flexGrow:1}})]}),(0,r.jsx)(u.Z,{onClick:M,children:(0,r.jsx)(b.Z,{width:20,height:20,icon:l?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"})}),!I&&(0,r.jsx)(vt.default,{href:B.vB.chat.new,children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(b.Z,{icon:"eva:edit-fill",width:20,height:20})})})]}),!I&&(0,r.jsx)(k,{query:f,onFocus:function(){j(!0)},onChange:D,onClickAway:function(){j(!1),h("")}})]}),(0,r.jsx)(Ce.Z,{children:C?(0,r.jsx)(bt,{query:f,results:m,onSelectContact:function(e){E&&E(e.username)}}):(0,r.jsx)(Y,{conversations:O,isOpenSidebar:l,activeConversationId:P,sx:Ot({},y&&{display:"none"})})})]});return(0,r.jsxs)(r.Fragment,{children:[!S&&(0,r.jsx)(Pt,{onClick:M,children:(0,r.jsx)(b.Z,{width:16,height:16,icon:"eva:people-fill"})}),S?(0,r.jsx)(Me.ZP,{open:l,variant:"persistent",sx:Ot({width:320,transition:e.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",width:320}},I&&{width:96,"& .MuiDrawer-paper":{width:96,position:"static",transform:"none !important",visibility:"visible !important"}}),children:_}):(0,r.jsx)(Me.ZP,{ModalProps:{keepMounted:!0},open:l,onClose:R,sx:{"& .MuiDrawer-paper":{width:320}},children:_})]})}var kt=n(61970);function Ct(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ct(o,r,i,a,s,"next",e)}function s(e){Ct(o,r,i,a,s,"throw",e)}a(void 0)}))}}function At(){var e=(0,yt.I0)(),t=(0,F.useRouter)(),n=t.pathname,o=t.query.conversationKey,s=(0,yt.v9)((function(e){return e.chat})),c=s.contacts,l=s.recipients,u=s.participants,p=s.activeConversationId,f=(0,yt.v9)((function(e){return function(e){var t=e.chat,n=t.conversations,r=t.activeConversationId,i=r?n.byId[r]:null;return i||{id:"",messages:[],participants:[],unreadCount:0,type:""}}(e)})),h=o?"DETAIL":"COMPOSE",x=u.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));(0,i.useEffect)((function(){var t=function(){var t=It(gt().mark((function t(){return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e((0,kt.aS)("".concat(o))),t.prev=1,t.next=4,e((0,kt.cc)("".concat(o)));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),F.default.push(B.vB.chat.new);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();o?t():p&&e((0,kt.PY)())}),[o]),(0,i.useEffect)((function(){p&&e((0,kt.R7)(p))}),[e,p]);var b=function(){var t=It(gt().mark((function t(n){return gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e((0,kt.Bs)(n))}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)(a.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:["DETAIL"===h?(0,r.jsx)(fe,{participants:x}):(0,r.jsx)(ae,{recipients:l,contacts:Object.values(c.byId),onAddRecipients:function(t){e((0,kt.sS)(t))}}),(0,r.jsx)(d.Z,{}),(0,r.jsxs)(a.Z,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[(0,r.jsxs)(a.Z,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[(0,r.jsx)(Ae,{conversation:f}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(ye,{conversationId:p,onSend:b,disabled:n===B.vB.chat.new})]}),"DETAIL"===h&&(0,r.jsx)(xt,{conversation:f,participants:x})]})]})}},69127:function(e,t,n){n.d(t,{Mu:function(){return a},zM:function(){return s},IO:function(){return c},Pp:function(){return l},DY:function(){return u}});var r=n(32912),i=n(28789),o=n(73015);function a(e){return(0,r.Z)(new Date(e),"dd MMMM yyyy")}function s(e){return(0,r.Z)(new Date(e),"dd MMM yyyy p")}function c(e){return(0,i.Z)(new Date(e))}function l(e){return(0,r.Z)(new Date(e),"dd/MM/yyyy hh:mm p")}function u(e){return(0,o.Z)(new Date(e),{addSuffix:!0})}},40655:function(e,t,n){n.d(t,{JB:function(){return h},UO:function(){return x},lW:function(){return b},PF:function(){return g}});var r=n(85893),i=n(97349),o=n(3140),a=["jpg","jpeg","gif","bmp","png"],s=["m4v","avi","mpg","mp4","webm"],c=["doc","docx"],l=["xls","xlsx"],u=["ppt","pptx"],d=["pdf"],p=["psd"],f=["ai","esp"];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e.split(".").pop()||""}function x(e){return e.substring(e.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function b(e){return e.split("/").pop()}var m=function(e){return(0,r.jsx)(i.Z,{src:"https://minimal-assets-api.vercel.app/assets/icons/file/".concat(e,".svg"),alt:e,sx:{width:28,height:28}})};function g(e){var t;switch(function(e){var t;switch(e.includes(h(e))){case a.includes(h(e)):t="image";break;case s.includes(h(e)):t="video";break;case c.includes(h(e)):t="word";break;case l.includes(h(e)):t="excel";break;case u.includes(h(e)):t="powerpoint";break;case d.includes(h(e)):t="pdf";break;case p.includes(h(e)):t="photoshop";break;case f.includes(h(e)):t="illustrator";break;default:t=h(e)}return t}(e)){case"video":t=m("format_video");break;case"word":t=m("format_word");break;case"excel":t=m("format_excel");break;case"powerpoint":t=m("format_powerpoint");break;case"pdf":t=m("format_pdf");break;case"photoshop":t=m("format_photoshop");break;case"illustrator":t=m("format_ai");break;case"image":t=(0,r.jsx)(i.Z,{src:e,alt:e,sx:{height:1}});break;default:t=(0,r.jsx)(o.Z,{icon:"eva:file-fill",sx:{width:28,height:28}})}return t}},1577:function(e,t,n){function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.d(t,{Z:function(){return r}})}}]);